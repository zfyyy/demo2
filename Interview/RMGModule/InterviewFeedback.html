<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js" type="text/javascript"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js" type="text/javascript"></script>
		<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" />
		<link rel="stylesheet" type="text/css" href="../static/rmgsystem/css/InterviewFeedback.css" />

		<!-- 填写表单资料，表格自动增加一行的js代码 -->
		<script type="text/javascript">
			function adds() {
				var Types = $("#types").val()
				var Comphr = $("#Comphr").val()
				var Cnumber = $("#Cnumber").val()
				var Result = $("#Result").val()
				var feedbackTextarea = $("#feedbackTextarea").val()
				var Grade = $("#Grade").val()
				var isInt = $("#isInt input")
				// console.log(isInt[0].checked, isInt[1].checked)

				//创建button按钮
				var Setbutton = document.createElement("a")
				Setbutton.innerText = "修改"
				Setbutton.setAttribute("class", "btn btn-default edit")
				Setbutton.setAttribute("href", "javascript:void(0)")

				var delbutton = document.createElement("a")
				delbutton.innerText = "删除"
				delbutton.setAttribute("class", "btn btn-default ml")
				delbutton.setAttribute("href", "javascript:void(0)")

				//创建span标签
				var spanText = document.createElement("span")
				spanText.setAttribute("class", "aeff")
				spanText.setAttribute("title", feedbackTextarea)
				spanText.innerHTML = feedbackTextarea


				var ceateTr = document.createElement("tr") //创建tr标签
				//ceateTr.setAttribute("id", "tabTr") //给创建的tr标签，设置id=tabTr
				$("#tabTbody").append(ceateTr) //将创建的tr标签追加到tbody里
				for (var i = 0; i < 8; i++) { //循环创建td
					var ceateTd = document.createElement("td") //创建td标签
					ceateTr.append(ceateTd) //将创建的td标签追加到tr标签里
				}

				var trChildren = ceateTr.children //获取 ceateTr里的所有td
				trChildren[7].append(Setbutton) //修改按钮追加到第七个td里
				trChildren[7].append(delbutton) //删除按钮追加到第七个td里
				trChildren[5].append(spanText) //span标签追加到第五个td里
				// console.log(trChildren)
				var is = null;
				if (isInt[0].checked) {
					is = "是"
				} else {
					is = "否"
				}
				trChildren[0].innerHTML = Types;
				trChildren[1].innerHTML = Comphr
				trChildren[2].innerHTML = Cnumber
				trChildren[3].innerHTML = is
				trChildren[4].innerHTML = Result
				// trChildren[5].innerHTML = feedbackTextarea
				trChildren[6].innerHTML = Grade

				//删除方法调用
				del()

				//修改方法调用
				edit()
				// console.log($("#aeff").length)
				//第二种方式
				// 				var trtd = $('<tr><td>' + Types + '</td><td>' + Comphr + '</td><td>' + Cnumber + '</td><td>' + '否' + '</td><td>' + Result+ '</td><td>' +feedbackTextarea + '</td><td>' +Grade + '</td></tr>');
				// 				$("#tabTbody").append(trtd);

			}
		</script>
	</head>
	<body>
		<div id="box">
			<div class="container">
				<!-- 表单部分 -->
				<form class="form-inline">
					<div class="form-group mr">
						<label for="exampleInputName" style="color: red;margin-left: 42px;">Name*：</label>
						<input type="text" class="form-control" id="exampleInputName" placeholder="user" style="width: 180px;">
					</div>
					<div class="form-group mr">
						<label for="exampleInputPhone" style="color: red;margin-left: 8px;">Phone number*：</label>
						<input type="email" class="form-control" id="exampleInputPhone" placeholder="Phone(only number)" oninput="value=value.replace(/[^\d]/g,'')"
						 style="width: 180px;">
					</div>
					<div class="form-group">
						<label for="inputInterview" style="color: red;margin-left:14px;">Interview post*：</label>
						<select id="inputInterview" class="form-control" style="width: 180px;">
							<option value="1">Teacher</option>
							<option value="2">Front end</option>
							<option value="3">back-end</option>
						</select>
					</div>
					<div class="form-group mr mt">
						<label for="inputYears" style="color: red;">Working life*：</label>
						<input type="number" class="form-control" id="inputYears" name="inputYears" placeholder="Phone(only number)"
						 style="width: 180px;">
					</div>
					<div class="form-group mt">
						<label for="inputEducation" style="color: red;margin-left: 38px;">Education*：</label>
						<select id="inputEducation" class="form-control" style="width: 180px;">
							<option value="0">Junior College</option>
							<option value="1">high school</option>
							<option value="2">Undergraduate</option>
							<option value="3">doctor</option>
							<option value="4">master</option>
						</select>
					</div>
					<div class="form-group mt">
						<button id="btns" class="btn btn-default" style="width: 140px;margin-left: 182px;line-height: 20px;" onclick="showHide();return false;">Show
							more</button>
					</div>
					<!-- 显示隐藏部分 -->
					<div id="hide" style="display: none;">
						<div class="form-group mt">
							<label for="exampleInputEdu" style=" margin-left: 3px;">Date of birth：</label>
							<input type="text" class="form-control" id="exampleInputEdu" style="width: 180px;" placeholder="Fill in Birthday ">
						</div>
						<div class="form-group mt" style="margin-left: 10px;">
							<label for="inputInterview">Date of interview：</label>
							<input type="date" class="form-control" id="inputInterview" style="width: 180px;">
						</div>
						<div class="form-group mt" style="margin-left: 20px;">
							<input type="radio" name="optionsRadios" checked>&nbsp;<label>boy</label>&nbsp;&nbsp;
							<input type="radio" name="optionsRadios" checked>&nbsp;<label>girl</label>
						</div><br>
						<div class="form-group mt">
							<label for="exampleInputRecruit" style=" margin-left: 23px;">Recruiter：</label>
							<input type="text" class="form-control" id="exampleInputRecruit" placeholder="Recruit" style="width: 180px;">
						</div>
						<div class="form-group mt">
							<label for="inputphone" style="margin-left: 16px;">Recruiter phone：</label>
							<input type="tel" class="form-control" id="inputphone" placeholder="Phone(only number)" oninput="value=value.replace(/[^\d]/g,'')"
							 style="width: 180px;">
						</div>
						<div class="form-group mt" style="margin-left: 10px;">
							<label for="exampleInputEdu">Recruitment need：</label>
							<select id="inputEdu" class="form-control" style="width: 182px;">
								<option value="JAVAFRDV">Front-end development</option>
								<option value="JAVAFRSE">Front end SE</option>
								<option value="JAVA00DV">Java Universal Backend Development</option>
								<option value="JAVA00SE">Java Universal Backend SE</option>
								<option value="JAVAMSDV">JAVA Microservice Development</option>
								<option value="JAVAMSSE">JAVA Microservice SE</option>
								<option value="000000PM">PM</option>
							</select>
						</div>
						<div class="form-horizontal" style="margin:20px 0px 0px -74px;">
							<label for="inputfile" class="col-sm-2 control-label">Upload resume:</label>
							<div id="file">
								<input type="file" id="inputfile">
								<button class="btn btn-default" id="btn" style="font-size: 12px;margin: 2px 0 0 -3px;">CV Upload</button>
							</div>
						</div>
						<div class="form-horizontal" style="margin:20px 0px 0px -76px;">
							<label for="textarea" class="col-sm-2 control-label">describe:</label>
							<textarea id="fileTextarea" rows="5" cols="110" style="resize: none;"></textarea>
						</div>
						<!-- 显示更多按钮，控制表单显隐js代码 -->
						<script type="text/javascript">
							var a = 0

							function showHide() {
								if (a == 0) {
									$("#hide").slideDown(200)
									$("#btns").text("hide")
									a = 1
								} else if (a == 1) {
									$("#hide").slideUp(200)
									$("#btns").text("Show more")
									a = 0
								}
							}
						</script>

					</div>
				</form>
				<!-- 表单部分结束 -->

				<!-- 表格部分 -->
				<div id="center" style="margin-top: 30px;">
					<h3 style="color: #454545;margin:0 0 10px 0px;">Interview feedback</h3>
					<!-- <div class="table table-bordered table-hover">
							<div class="head-tab">
								<ul>
									<li class="w120">类型</li>
									<li class="w80">面试官</li>
									<li class="w80">场次</li>
									<li class="w80">是否终面</li>
									<li class="w120">结果</li>
									<li class="w280">反馈描述</li>
									<li class="w80">评级</li>
									<li class="w152">操作</li>
								</ul>
							</div>
							<div id="tabTbody">
								<ul>
									<li>
										<ul>
											<li class="w120">公司面试</li>
											<li class="w80">孟老师</li>
											<li class="w80">第一轮</li>
											<li class="w80">否</li>
											<li class="w120">通过</li>
											<li class="w280">
												<span class="aeff" id="aeff" title="牛逼,不如我们去蹦迪吧	牛逼,不如我们去蹦迪吧,今天的天气很好，，哈哈哈的天气很好，，哈哈哈的天气很好，，哈哈哈	牛逼,不如我们去蹦迪吧,今天的天气很好，，哈哈哈的天气很好，，哈哈哈的天气很好，，哈哈哈	牛逼,不如我们去蹦迪吧,今天的天气很好，，哈哈哈的天气很好，，哈哈哈的天气很好，，哈哈哈,今天的天气很好，，哈哈哈的天气很好，，哈哈哈的天气很好，，哈哈哈">
													牛逼,不如我们去蹦迪吧 牛逼,不如我们去蹦迪吧,今天的天气很好，，哈哈哈的天气很好，，哈哈哈的天气很好，，哈哈哈 牛逼,不如我们去蹦迪吧,今天的天气很好，，哈哈哈的天气很好，，哈哈哈的天气很好，，哈哈哈
													牛逼,不如我们去蹦迪吧,今天的天气很好，，哈哈哈的天气很好，，哈哈哈的天气很好，，哈哈哈,今天的天气很好，，哈哈哈的天气很好，，哈哈哈的天气很好，，哈哈哈
												</span>
											</li>
											<li class="w80">U3</li>
											<li class="w152"><button type="button" class="btn btn-default">修改</button><button type="button" class="btn btn-default ml">删除</button></li>
										</ul>
									</li>
								</ul>
							</div>
					</div> -->
					<div class="form-group">
						<label for="Search" class="colors">search:</label>
						<input type="search" value="" class="form-control" id="Search" autofocus="autofocus" placeholder="输入关键词搜索">
					</div>
					<script type="text/javascript"></script>
					<table class="table table-bordered table-hover">
						<thead>
							<tr>
								<th>type</th>
								<th>Interviewer</th>
								<th>Scene</th>
								<th>Final face</th>
								<th>Result</th>
								<th>Feedback description</th>
								<th>Grade</th>
								<th>operation</th>
							</tr>
						</thead>
						<tbody id="tabTbody">
							<tr>
								<td>公司面试</td>
								<td>孟老师</td>
								<td>第一轮</td>
								<td>否</td>
								<td>通过</td>
								<td>
									<span class="aeff" title="这个人表现的很良好，我们决定录用他，没错，录用他">这个人表现的很良好，我们决定录用他，没错，录用他</span>
								</td>
								<td>U3</td>
								<td>
									<a type="button" href="javascript:void(0)" class="btn btn-default edit">修改</a><a href="javascript:void(0)"
									 type="button" class="btn btn-default ml">删除</a>
								</td>
							</tr>
							<tr>
								<td>公司面试</td>
								<td>孟老师2号</td>
								<td>第二轮</td>
								<td>否</td>
								<td>通过</td>
								<td>
									<span class="aeff" title="这个人表现的很良好，我们决定录用他，没错，录用他">这个人表现的很良好，我们决定录用他，没错，录用他</span>
								</td>
								<td>U2</td>
								<td>
									<a href="javascript:void(0)" type="button" class="btn btn-default edit">修改</a><a href="javascript:void(0)"
									 type="button" class="btn btn-default ml">删除</a>
								</td>
							</tr>
							<tr>
								<td>华为面试</td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td>
									<span class="aeff" title=""></span>
								</td>
								<td></td>
								<td><a href="javascript:void(0)" type="button" class="btn btn-default edit">修改</a><a href="javascript:void(0)"
									 type="button" class="btn btn-default ml">删除</a></td>
							</tr>
						</tbody>
						<script type="text/javascript">
							function del() {
								var btnClassMl = $("#tabTbody a.ml")
								// console.log(btnClassMl)
								var trMl = $("#tabTbody tr")
								// console.log(trMl)
								for (j = 0; j < btnClassMl.length; j++) {
									btnClassMl[j].xunhao = j
									// console.log(btnClassMl[j].xunhao)
									btnClassMl[j].onclick = function() {
										// alert("s")
										// console.log(trMl[this.xunhao])
										trMl[this.xunhao].parentNode.removeChild(trMl[this.xunhao]);
									}
								}
								// console.log($("#tabTbody tr").length,"delelte")
							}
							del()

							function search() {
								$("#Search").keyup(function() {
									$("table #tabTbody tr").stop().hide() //将tbody中的tr都隐藏
										.filter(":contains('" + ($(this).val()) + "')").show(); //，将符合条件的筛选出来
								});
							}
							search()
						</script>
					</table>
				</div>
				<!-- 表格部分结束 -->
				<button class="btn btn-default" id="add" onclick="adds()">Increase feedback</button>
				<!-- 表单底部部分 -->
				<div id="bottomConten">
					<form class="form-inline" style="padding: 5px;">
						<div class="form-group" style="margin-left: 26px;">
							<label for="types">type：</label>
							<input type="text" class="form-control" id="types">
						</div>
						<div class="form-group" style="margin-left: 129px;">
							<label for="Result">Result：</label>
							<select id="Result" class="form-control" style="width: 195px;">
								<option value="通过">adopt</option>
								<option value="未通过">Not pass</option>
							</select>
						</div><br>

						<div class="form-group mt" style="margin-left: 12px;">
							<label for="Cnumber">Scene：</label>
							<input type="text" class="form-control" id="Cnumber">
						</div>
						<div class="form-group mt" style="margin-left: 100px;">
							<label for="Comphr">Interviewer：</label>
							<input type="text" class="form-control" id="Comphr">
						</div>
						<div class="form-horizontal" style="margin:20px 0px 0px -100px;">
							<label for="textarea" class="col-sm-2 control-label">describe:</label>
							<textarea id="feedbackTextarea" rows="10" cols="110" style="resize: none;"></textarea>
						</div>

						<div class="form-group mt" id="isInt">
							<label for="">Final face </label>&nbsp;&nbsp;&nbsp;&nbsp;
							<input type="radio" name="Result" id="IntYes" onclick="Intview()" checked="checked"><label>yes</label>&nbsp;&nbsp;&nbsp;&nbsp;
							<input type="radio" name="Result" id="IntNo" onclick="Intview2()"><label>no</label>
							<!-- 是否终面 单选框控制显隐代码 -->
							<script type="text/javascript">
								function Intview() {
									$("#resultShowHide").show()
								}

								function Intview2() {
									$("#resultShowHide").hide()
								}
							</script>
						</div><br>

						<div id="resultShowHide">
							<div class="form-group mt">
								<label for="">HUAWEI interview</label>&nbsp;&nbsp;&nbsp;&nbsp;
								<input type="radio" name="huaweiResult"><label>yes</label>&nbsp;&nbsp;&nbsp;&nbsp;
								<input type="radio" name="huaweiResult" checked><label>no</label>
							</div>
							<div class="form-group mt" style="margin-left: 50px;">
								<label for="Grade ">Grade：</label>
								<select id="Grade" class="form-control">
									<option value="U1">U1</option>
									<option value="U2">U2</option>
									<option value="U3">U3</option>
									<option value="U4">U4</option>
									<option value="P1">P1</option>
									<option value="P2">P2</option>
								</select>
							</div>
							<div class="form-group" style="margin:20px 0px 0px 40px;" id="jianli">
								<label for="inputfile3" class="" style="display: inline-block;">Resume :</label>&nbsp;&nbsp;&nbsp;&nbsp;
								<input type="file" id="inputfile3" style="display: inline-block;">
								<button class="btn btn-default" id="bottombtn">cv upload </button>
							</div>
						</div>
						<!-- <input type="submit" class="btn btn-default" value="提交反馈" id="submit" /> -->
					</form>
					<!-- <button  class="btn btn-default" id="add" onclick="adds()">增加反馈</button> -->
					<div class="clear"></div>
				</div>
				<!-- 表单底部部分结束 -->
				<div style="margin-bottom: 60px;display: flex;justify-content: center;">
					<a class="btn btn-default" id="Return" style="background:linear-gradient(white,#ccc);display: block;width: 100px;line-height: 20px;">return</a>
				</div>
			</div>
		</div>

		<!-- 修改表单部分 -->
		<div id="mask" style="display: none;">
			<span class="btn btn-defalut" id="close">点我关闭</span>
			<div id="froms">
				<h4 style="margin-left:-16px;">编辑信息</h4>
				<form class="form-horizontal">
					<div class="form-group">
						<label for="editType" class="colors">Type:</label>
						<input type="text" class="form-control" id="editType" placeholder="">
					</div>
					<div class="form-group">
						<label for="editInterviewer" class="colors">Interviewer:</label>
						<input type="text" class="form-control" id="editInterviewer" placeholder="">
					</div>
					<div class="form-group">
						<label for="editScene" class="colors">Scene:</label>
						<input type="text" class="form-control" id="editScene" placeholder="">
					</div>
					<div class="form-group">
						<label for="editFinalface" class="colors">Final face:</label>
						<input type="text" class="form-control" id="editFinalface" placeholder="">
					</div>
					<div class="form-group">
						<label for="editResult" class="colors">Result:</label>
						<input type="text" class="form-control" id="editResult" placeholder="">
					</div>
					<div class="form-group">
						<label for="editGrade" class="colors">Grade:</label>
						<input type="text" class="form-control" id="editGrade" placeholder="">
					</div>
					<div class="form-group">
						<label for="editDescription" class="colors">Feedback description:</label>
						<!-- <input type="text" class="form-control" id="editDescription" placeholder=""> -->
						<textarea rows="6" type="text" class="form-control" id="editDescription">

						</textarea>
					</div>
					<div class="form-group" id="queding">
						<a href="javascript:void(0);" class="btn btn-default" style="width: 100px;" id="save">Save</a>
					</div>
				</form>
			</div>
		</div>
		<!-- 修改编辑部分jq，js代码 -->
		<script type="text/javascript">
			function edit() {
				var editBtn = $("#tabTbody a.edit")
				var editType = $("#editType")
				var editInterviewer = $("#editInterviewer")
				var editScene = $("#editScene")
				var editFinalface = $("#editFinalface")
				var editResult = $("#editResult")
				var editGrade = $("#editGrade")
				var editDescription = $("#editDescription")
				// console.log(editType)
				// console.log(editBtn)
				for (var a = 0; a < editBtn.length; a++) {
					editBtn[a].onclick = function() {
						$("#mask").fadeIn(200)
						var oTr = this.parentNode.parentNode
						oTd = oTr.children
						console.log(oTr)
						// console.log(oTd)
						editType.val(oTd[0].innerHTML)
						editInterviewer.val(oTd[1].innerHTML)
						editScene.val(oTd[2].innerHTML)
						editFinalface.val(oTd[3].innerHTML)
						editResult.val(oTd[4].innerHTML)
						editDescription.val(oTd[5].innerText)
						editGrade.val(oTd[6].innerHTML)

					}
					$("#save").click(function() {
						$("#mask").fadeOut(200)
						oTd[0].innerHTML = editType.val()
						oTd[1].innerHTML = editInterviewer.val()
						oTd[2].innerHTML = editScene.val()
						oTd[3].innerHTML = editFinalface.val()
						oTd[4].innerHTML = editResult.val()
						oTd[5].children[0].innerText = editDescription.val()
						oTd[6].innerHTML = editGrade.val()
					})
					$("#close").click(function() {
						$("#mask").fadeOut(200)
					})
				}
			}
			edit()
		</script>
	</body>
</html>
